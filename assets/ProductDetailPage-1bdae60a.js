import{s as f,o as x,b as _,c as C,d as u,e as s,l as B,j as e,f as d,t as i,y as S,m as P,F as w,k as E}from"./index-3580c150.js";import{_ as $,a as T,u as F,b as m,B as g,t as H,H as M,A as D,F as N}from"./FooterComponent-b2d2cabc.js";import{p as V}from"./product-d27d2569.js";const A={class:"detail-wrapper"},I={class:"product-wrapper"},L={class:"product-head"},O={class:"product-text"},U={class:"product-name"},j={class:"text-span"},q={class:"text-seller"},z={class:"product-inventory"},G={class:"text-span"},R={class:"product-inventory"},J={class:"text-span"},K={class:"price"},Q={class:"text-price"},W={class:"product-description"},X={class:"description-span"},Y={class:"product-button"},Z={__name:"ProductDetailPage",setup(ss){const v=T(),t=V(),p=F(),h=f();p.clearErrorMessages(),p.clearSuccessMessages();const k=async a=>{window.scrollTo({top:0,behavior:"smooth"});const o=H.putTokenToHeader(),c=await m.POST(`/api/v1/shopcars/${a}`,void 0,o),{success:n,message:r}=c.data;return n?p.setSuccess(r):p.setError(r)};x(async()=>{const a=h.params.product_id,o=await m.GET(`/api/v1/products/${a}`),{data:c,success:n,message:r}=o.data;return n?t.product=c.product:p.setError(r)});const b=a=>{E.push(`/seller/${a}`)},y=()=>{window.history.back()};return(a,o)=>{var c,n;return _(),C(w,null,[u(M),s("div",A,[u(D),s("div",I,[s("div",L,[s("div",{class:"product-img",style:B(`background-image: url('${e(t).product.avatar}')`)},null,4),s("div",O,[s("div",U,[d("商品名稱: "),s("span",j,i(e(t).product.name),1)]),s("div",{class:"seller",onClick:o[0]||(o[0]=r=>{var l;return b((l=e(t).product.User)==null?void 0:l.id)})},[d("商家資訊: "),s("span",q,i((c=e(t).product.User)==null?void 0:c.name),1)]),s("div",z,[d("商品存貨量: "),s("span",G,i(e(t).product.inventory_quantity),1)]),s("div",R,[d("商品分類: "),s("span",J,i((n=e(t).product.Category)==null?void 0:n.name),1)]),s("div",K,[d(" 商品售價: "),s("span",Q,"$ "+i(e(t).product.price),1)])])]),s("div",W,[d(" 商品描述: "),s("span",X,i(e(t).product.description),1)]),s("div",Y,[u(g,{msg:"上一頁",backgroundColor:"background-color:#BEBEBE",onClick:o[1]||(o[1]=r=>y())}),e(v).buttonOn?(_(),S(g,{key:0,msg:"加入購物車",backgroundColor:"background-color:#FF9797",onClick:o[2]||(o[2]=r=>k(e(t).product.id))})):P("",!0)])])]),u(N)],64)}}},rs=$(Z,[["__scopeId","data-v-f3971bdb"]]);export{rs as default};
