import{u as w,r as g,o as v,b as x,c as b,d as e,e as s,w as C,n as k,F,p as S,h as y}from"./index-efca3eca.js";import{_ as P,u as B,a as E,H as M,A as H,B as U,F as I,t as R,b as T}from"./FooterComponent-690e1eea.js";import{u as q}from"./FormComponent.vue_vue_type_style_index_0_scoped_336c89d5_lang-27015c05.js";import{F as n}from"./FormComponent-5e5ca8d9.js";const D=o=>(S("data-v-f0065c94"),o=o(),y(),o),O={class:"wrapper"},V={class:"form-wrapper"},A={class:"form-title"},L=D(()=>s("h3",null,"修改密碼",-1)),N=["onSubmit"],z={__name:"UserEditPasswordPage",setup(o){const l=w(),t=B(),a=q(),p=E();t.clearErrorMessages(),t.clearSuccessMessages();const d=g(""),i=()=>{window.scrollTo({top:0,behavior:"smooth"}),d.value="was-validated"};v(()=>{p.user.role!=="seller"&&p.user.role!=="buyer"&&l.push("/")});const u=async r=>{if(!r.target.checkValidity())return r.preventDefault();const _=R.putTokenToHeader(),h=await T.PUT("/api/v1/users/password",{passwordOld:a.passwordOld,password:a.password,passwordCheck:a.passwordCheck},_),{success:f,message:c}=h.data;if(!f)return t.setError(c);t.setSuccess(c),l.push("/user/profile")};return(r,m)=>(x(),b(F,null,[e(M),s("div",O,[s("div",V,[s("div",A,[L,e(H)]),s("form",{onSubmit:C(u,["prevent"]),class:k(d.value),novalidate:""},[e(n,{"label-for":"passwordOld","label-text":"舊密碼","span-text":"※注意請填寫4-50字密碼","input-placeholder":"請輸入舊密碼","input-type":"password","min-length":"4","max-length":"50",inputRequired:"true","invalid-text":"此項目為必填，字數限制4-50"}),e(n,{"label-for":"password","label-text":"新密碼","span-text":"※注意請填寫4-50字密碼","input-placeholder":"請輸入新密碼","input-type":"password","min-length":"4","max-length":"50",inputRequired:"true","invalid-text":"此項目為必填，字數限制4-50"}),e(n,{"label-for":"passwordCheck","label-text":"確認密碼","span-text":"※注意請填寫與新密碼相符之確認密碼","input-placeholder":"請輸入確認密碼","input-type":"password","min-length":"4","max-length":"50",inputRequired:"true","invalid-text":"此項目為必填，字數限制4-50"}),s("div",null,[e(U,{msg:"更新",backgroundColor:"background-color:#FFBD9D",type:"submit",onClick:i})])],42,N)])]),e(I)],64))}},Q=P(z,[["__scopeId","data-v-f0065c94"]]);export{Q as default};
