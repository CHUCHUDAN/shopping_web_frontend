import{_ as P,a as C,u as $,B as v,t as I,b as w,H as S,A as F,F as H}from"./FooterComponent-690e1eea.js";import{u as b}from"./ProductComponent.vue_vue_type_style_index_0_scoped_9740356c_lang-0d23a0cf.js";import{p as B}from"./product-edc8630e.js";import{b as d,c as p,x,e as t,l as D,t as _,j as e,y as Q,m as K,F as h,k as L,r as f,n as g,d as u}from"./index-efca3eca.js";import"./FormComponent.vue_vue_type_style_index_0_scoped_336c89d5_lang-27015c05.js";const N=["onClick"],T={class:"product-text"},M={class:"product-name"},A={class:"product-text"},E={class:"product-price"},V={class:"price"},z={__name:"ProductComponent",setup(y){const a=C(),o=B(),c=$(),l=async n=>{window.scrollTo({top:0,behavior:"smooth"});const i=I.putTokenToHeader(),r=await w.POST(`/api/v1/shopcars/${n}`,void 0,i),{success:m,message:k}=r.data;return m?c.setSuccess(k):c.setError(k)},s=n=>{L.push(`/product/${n}`)};return(n,i)=>(d(!0),p(h,null,x(e(o).products,r=>(d(),p("div",{class:"product-wrapper",key:r.id},[t("div",{class:"product-img",style:D(`background-image: url('${r.avatar}')`),onClick:m=>s(r.id)},null,12,N),t("div",T,[t("div",M,_(r.name),1),t("div",A,_(r.description),1)]),t("div",E,[t("div",V," $ "+_(r.price),1),e(a).buttonOn?(d(),Q(v,{key:0,msg:"加入購物車",backgroundColor:"background-color:#FF9797",onClick:m=>l(r.id)},null,8,["onClick"])):K("",!0)])]))),128))}},O=P(z,[["__scopeId","data-v-9740356c"]]),j={"aria-label":"Page navigation example"},q={class:"pagination"},G=t("a",{to:"/home",class:"page-link",href:"/#/home","aria-label":"Previous"},[t("span",{"aria-hidden":"true"},"«")],-1),J=[G],R=["onClick"],U={class:"page-link",href:"/#/home"},W=t("a",{class:"page-link",href:"/#/home","aria-label":"Next"},[t("span",{"aria-hidden":"true"},"»")],-1),X=[W],Y={__name:"PaginationComponent",setup(y){const a=b(),o=f(null),c=f(null),l=(n,i)=>{o.value.classList.contains("disabled")||a.getProducts(n,i)},s=(n,i)=>{c.value.classList.contains("disabled")||a.getProducts(n,i)};return(n,i)=>(d(),p("div",null,[t("nav",j,[t("ul",q,[t("li",{class:g(["page-item",{disabled:e(a).currentPage===1}]),ref_key:"prev",ref:o,onClick:i[0]||(i[0]=r=>l(e(a).currentPage-1,e(a).categoryId))},J,2),(d(!0),p(h,null,x(e(a).pages,r=>(d(),p("li",{class:g(["page-item",{active:e(a).currentPage===r}]),onClick:m=>e(a).getProducts(r,e(a).categoryId),key:r},[t("a",U,_(r),1)],10,R))),128)),t("li",{class:g(["page-item",{disabled:e(a).currentPage===e(a).totalPage}]),ref_key:"next",ref:c,onClick:i[1]||(i[1]=r=>s(e(a).currentPage+1,e(a).categoryId))},X,2)])])]))}};const Z={class:"home-wrapper"},ee={class:"search-wrapper"},te={action:"",class:"form-wrapper"},oe={class:"form-item"},se=["value"],ne={class:"form-item"},ae=["value"],re={class:"form-item"},ce=["value"],ie={class:"form-item"},le=["value"],ue={class:"form-item"},de=["value"],pe={class:"button-wrapper"},me={class:"products-wrapper"},_e={__name:"HomePage",setup(y){const a=$(),o=b();a.clearErrorMessages(),o.getProducts(1,o.categoryId);const c=l=>{const s=l.target.value,n=l.target.id;o.setChangeInput(n,s)};return(l,s)=>(d(),p(h,null,[u(S),t("div",Z,[u(F),t("div",ee,[t("form",te,[t("div",oe,[t("input",{class:"form-input",type:"text",maxlength:"50",id:"keyword",name:"keyword",value:e(o).keyword,onInput:c,onKeyup:s[0]||(s[0]=n=>e(o).getProducts(1,e(o).categoryId)),placeholder:"輸入關鍵字"},null,40,se)]),t("div",ne,[t("input",{class:"form-input",type:"number",maxlength:"50",id:"minQuantity",name:"minQuantity",value:e(o).minQuantity,onInput:c,onKeyup:s[1]||(s[1]=n=>e(o).getProducts(1,e(o).categoryId)),placeholder:"輸入最小存貨量"},null,40,ae)]),t("div",re,[t("input",{class:"form-input",type:"number",maxlength:"50",id:"maxQuantity",name:"maxQuantity",value:e(o).maxQuantity,onInput:c,onKeyup:s[2]||(s[2]=n=>e(o).getProducts(1,e(o).categoryId)),placeholder:"輸入最大存貨量"},null,40,ce)]),t("div",ie,[t("input",{class:"form-input",type:"number",maxlength:"50",id:"min",name:"min",value:e(o).min,onInput:c,onKeyup:s[3]||(s[3]=n=>e(o).getProducts(1,e(o).categoryId)),placeholder:"輸入最小金額"},null,40,le)]),t("div",ue,[t("input",{class:"form-input",type:"number",maxlength:"50",id:"max",name:"max",value:e(o).max,onInput:c,onKeyup:s[4]||(s[4]=n=>e(o).getProducts(1,e(o).categoryId)),placeholder:"輸入最大金額"},null,40,de)]),t("div",pe,[u(v,{class:"search-button",msg:"搜尋",backgroundColor:"background-color:#D0D0D0",type:"button",onClick:s[5]||(s[5]=n=>e(o).getProducts(1,e(o).categoryId))}),u(v,{class:"clear-button",msg:"清除",backgroundColor:"background-color:	#FFAD86",type:"button",onClick:s[6]||(s[6]=n=>e(o).clearSearch())})])])]),t("div",me,[u(O)]),u(Y,{currentPage:e(o).currentPage},null,8,["currentPage"])]),u(H)],64))}},fe=P(_e,[["__scopeId","data-v-ccc45024"]]);export{fe as default};
