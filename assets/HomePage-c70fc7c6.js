import{b as y,c as f,k as H,j as x,F as k,e,l as Q,t as g,s as S,x as T,m as V,o as E,r as i,d as p,i as m,y as _}from"./index-4e7a4945.js";import{_ as b,b as B,u as w,B as C,t as D,a as h,H as F,A as M,F as U}from"./FooterComponent-8e6b8674.js";import{p as P}from"./product-a101d0c0.js";import"./FormComponent.vue_vue_type_style_index_0_scoped_161ebfa4_lang-bdaf0ac9.js";const L=["onClick"],N={class:"product-text"},A={class:"product-name"},G={class:"product-text"},I={class:"product-price"},O={class:"price"},j={__name:"ProductComponent",setup($){const d=B(),v=P(),r=w(),u=async n=>{window.scrollTo({top:0,behavior:"smooth"});const c=D.putTokenToHeader(),s=await h.POST(`/api/v1/shopcars/${n}`,void 0,c),{success:a,message:t}=s.data;return a?r.setSuccess(t):r.setError(t)},l=n=>{V.push(`/product/${n}`)};return(n,c)=>(y(!0),f(k,null,H(x(v).products,s=>(y(),f("div",{class:"product-wrapper",key:s.id},[e("div",{class:"product-img",style:Q(`background-image: url('${s.avatar}')`),onClick:a=>l(s.id)},null,12,L),e("div",N,[e("div",A,g(s.name),1),e("div",G,g(s.description),1)]),e("div",I,[e("div",O," $ "+g(s.price),1),x(d).buttonOn?(y(),S(C,{key:0,msg:"加入購物車",backgroundColor:"background-color:#FF9797",onClick:a=>u(s.id)},null,8,["onClick"])):T("",!0)])]))),128))}},z=b(j,[["__scopeId","data-v-b87f206a"]]);const q={class:"home-wrapper"},J={class:"search-wrapper"},K={action:"",class:"form-wrapper"},R={class:"form-item"},W={class:"form-item"},X={class:"form-item"},Y={class:"form-item"},Z={class:"form-item"},ee={class:"products-wrapper"},te={__name:"HomePage",setup($){const d=w(),v=P();d.clearErrorMessages(),E(async()=>{const a=await h.GET("/api/v1/products"),{success:t,message:o}=a.data;return t?v.setProduct(a.data.data.products):d.setError(o)});const r=i(""),u=i(""),l=i(""),n=i(""),c=i(""),s=async()=>{const a=await h.GET("api/v1/products",{params:{keyword:r.value,min:u.value,max:l.value,minQuantity:n.value,maxQuantity:c.value}}),{success:t,message:o}=a.data;return t?v.setProduct(a.data.data.products):d.setError(o)};return(a,t)=>(y(),f(k,null,[p(F),e("div",q,[p(M),e("div",J,[e("form",K,[e("div",R,[m(e("input",{class:"form-input",type:"text",maxlength:"50",id:"keyword",name:"keyword","onUpdate:modelValue":t[0]||(t[0]=o=>r.value=o),placeholder:"輸入關鍵字"},null,512),[[_,r.value]])]),e("div",W,[m(e("input",{class:"form-input",type:"number",maxlength:"50",id:"minQuantity",name:"minQuantity","onUpdate:modelValue":t[1]||(t[1]=o=>n.value=o),placeholder:"輸入最小存貨量"},null,512),[[_,n.value]])]),e("div",X,[m(e("input",{class:"form-input",type:"number",maxlength:"50",id:"maxQuantity",name:"maxQuantity","onUpdate:modelValue":t[2]||(t[2]=o=>c.value=o),placeholder:"輸入最大存貨量"},null,512),[[_,c.value]])]),e("div",Y,[m(e("input",{class:"form-input",type:"number",maxlength:"50",id:"min",name:"min","onUpdate:modelValue":t[3]||(t[3]=o=>u.value=o),placeholder:"輸入最小金額"},null,512),[[_,u.value]])]),e("div",Z,[m(e("input",{class:"form-input",type:"number",maxlength:"50",id:"max",name:"max","onUpdate:modelValue":t[4]||(t[4]=o=>l.value=o),placeholder:"輸入最大金額"},null,512),[[_,l.value]])]),p(C,{msg:"搜尋",backgroundColor:"background-color:#D0D0D0",type:"button",onClick:s})])]),e("div",ee,[p(z)])]),p(U)],64))}},re=b(te,[["__scopeId","data-v-3e18a45b"]]);export{re as default};
