import{a as i,c as p,f as C,g as $,F as k,d as s,h as b,t as d,j as w,u as P,o as m,k as T,b as a,l as E}from"./index-ac8ec398.js";import{_ as g,u as f,t as l,a as v,H as x,A as H,B,F as D}from"./FooterComponent-ffcba0a4.js";import{p as S}from"./product-cc9feb73.js";const F={class:"data-wrapper"},M=["onClick"],A={class:"product-data"},G={class:"product-price"},L={class:"product-num"},N={class:"userData-wrapper"},V={class:"product-name"},j={class:"product-description"},q={class:"delete-button"},z=["onClick"],I={class:"add-time"},R={__name:"StoreProduct",setup(y){const u=S(),c=f(),_=async t=>{const o=l.putTokenToHeader(),e=await v.DELETE(`/api/v1/stores/${t}`,void 0,o),{success:n,message:h}=e.data;return n?(u.deleteStoreShop(t),c.setSuccess(h)):c.setError(h)},r=t=>{w.push(`/product/${t}`)};return(t,o)=>(i(!0),p(k,null,C($(u).products,e=>(i(),p("div",{class:"product-wrapper",key:e.id},[s("div",F,[s("div",{class:"product-pic",style:b(`background-image: url('${e.avatar}')`),onClick:n=>r(e.id)},null,12,M),s("div",A,[s("div",G,"售價: $ "+d(e.price),1),s("div",L,"存貨量: "+d(e.inventory_quantity),1)])]),s("div",N,[s("div",V,"商品名稱: "+d(e.name),1),s("div",j,"商品描述: "+d(e.description),1),s("div",q,[s("i",{class:"fa-solid fa-trash delete","product-id":"item.product_id",onClick:n=>_(e.id)},null,8,z),s("span",I,"上架時間: "+d(e.addShopTime),1)])])]))),128))}},J=g(R,[["__scopeId","data-v-b2b1e6c4"]]);const K={class:"store-wrapper"},O={class:"add-wrapper"},Q={class:"add-button"},U={class:"products-wrapper"},W={__name:"StorePage",setup(y){const u=P(),c=f(),_=S();return c.clearErrorMessages(),m(async()=>{const r=l.putTokenToHeader(),t=await v.GET("/api/v1/users",void 0,r),{success:o,user:e}=t.data;if(!o||e.role!=="seller")return u.push("/")}),m(async()=>{const r=l.putTokenToHeader(),t=await v.GET("/api/v1/stores",void 0,r),{success:o,message:e,data:n}=t.data;return o?_.setProduct(n.products):c.setError(e)}),(r,t)=>{const o=T("router-link");return i(),p(k,null,[a(x),s("div",K,[a(H),s("div",O,[s("div",Q,[a(o,{to:"/addStore"},{default:E(()=>[a(B,{msg:"上架商品",backgroundColor:"background-color:#FFBD9D"})]),_:1})])]),s("div",U,[a(J)])]),a(D)],64)}}},ee=g(W,[["__scopeId","data-v-13782889"]]);export{ee as default};
