import{u as f,r as v,o as h,a as w,c as k,b as t,d as s,w as C,n as F,F as b,p as x,e as S}from"./index-ac8ec398.js";import{_ as V,u as y,t as B,H as I,A as M,B as H,F as P,a as D}from"./FooterComponent-ffcba0a4.js";import{u as E}from"./FormComponent.vue_vue_type_style_index_0_scoped_161ebfa4_lang-31464716.js";import{F as u}from"./FormComponent-307dc666.js";const L=n=>(x("data-v-c025dd10"),n=n(),S(),n),R={class:"wrapper"},q={class:"form-wrapper"},A={class:"form-title"},N=L(()=>s("h3",null,"login",-1)),U=["onSubmit"],z={__name:"LoginPage",setup(n){const l=f(),r=y(),d=E();r.clearErrorMessages();const c=v(""),i=()=>{c.value="was-validated"},p=async e=>{if(!e.target.checkValidity())return e.preventDefault();const a=await D.POST("/api/v1/users/signin",{account:d.account,password:d.password}),{data:m,success:g,message:_}=a.data;if(!g)return r.setError(_);localStorage.setItem("token",m.token),r.setSuccess("登入成功"),l.push("/")};return h(async()=>{const e=await B.tokenCheck(),{success:o}=e.data;if(o)return l.push("/")}),(e,o)=>(w(),k(b,null,[t(I),s("div",R,[s("div",q,[s("div",A,[N,t(M)]),s("form",{onSubmit:C(p,["prevent"]),class:F(c.value),novalidate:""},[t(u,{modelValue:e.account,"onUpdate:modelValue":o[0]||(o[0]=a=>e.account=a),"label-for":"account","label-text":"帳號","span-text":"※注意請填寫3-50字的帳號","input-placeholder":"請輸入帳號","input-type":"text","min-length":"3","max-length":"50",inputRequired:"true","invalid-text":"此項目為必填，字數限制3-50"},null,8,["modelValue"]),t(u,{modelValue:e.password,"onUpdate:modelValue":o[1]||(o[1]=a=>e.password=a),"label-for":"password","label-text":"密碼","span-text":"※注意請填寫4-50長度的密碼","input-placeholder":"請輸入有效密碼","input-type":"password","min-length":"4","max-length":"50",inputRequired:"true","invalid-text":"此項目為必填，字數限制4-50"},null,8,["modelValue"]),s("div",null,[t(H,{msg:"login",backgroundColor:"background-color:#FFBD9D",type:"submit",onClick:i})])],42,U)])]),t(P)],64))}},J=V(z,[["__scopeId","data-v-c025dd10"]]);export{J as default};
