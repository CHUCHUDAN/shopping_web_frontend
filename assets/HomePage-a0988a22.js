import{a as g,c as f,f as H,g as x,F as b,d as e,h as Q,t as y,l as T,m as V,o as k,r as l,b as i,q as p,v as m}from"./index-fb88865d.js";import{_ as w,b as M,u as C,B as P,t as S,a as h,H as B,A as F,F as D}from"./FooterComponent-899f50b1.js";import{p as $}from"./product-a192bb7c.js";import"./FormComponent.vue_vue_type_style_index_0_scoped_161ebfa4_lang-6f8024f9.js";const U={class:"product-text"},L={class:"product-name"},N={class:"product-text"},A={class:"product-price"},G={class:"price"},I={__name:"ProductComponent",setup(E){const n=M(),_=$(),r=C(),u=async c=>{window.scrollTo({top:0,behavior:"smooth"});const d=S.putTokenToHeader(),o=await h.POST(`/api/v1/shopcars/${c}`,void 0,d),{success:v,message:a}=o.data;return v?r.setSuccess(a):r.setError(a)};return(c,d)=>(g(!0),f(b,null,H(x(_).products,o=>(g(),f("div",{class:"product-wrapper",key:o.id},[e("div",{class:"product-img",style:Q(`background-image: url('${o.avatar}')`)},null,4),e("div",U,[e("div",L,y(o.name),1),e("div",N,y(o.description),1)]),e("div",A,[e("div",G," $ "+y(o.price),1),x(n).buttonOn?(g(),T(P,{key:0,msg:"加入購物車",backgroundColor:"background-color:#FF9797",onClick:v=>u(o.id)},null,8,["onClick"])):V("",!0)])]))),128))}},O=w(I,[["__scopeId","data-v-d7c060d1"]]);const q={class:"home-wrapper"},z={class:"search-wrapper"},j={action:"",class:"form-wrapper"},J={class:"form-item"},K={class:"form-item"},R={class:"form-item"},W={class:"form-item"},X={class:"form-item"},Y={class:"products-wrapper"},Z={__name:"HomePage",setup(E){const n=C(),_=$();n.clearErrorMessages(),n.clearSuccessMessages(),k(async()=>{const a=await S.tokenCheck(),{success:t}=a.data;return t?n.setSuccess("登入成功"):n.setError("未登入")}),k(async()=>{const a=await h.GET("/api/v1/products"),{success:t,message:s}=a.data;return t?_.setProduct(a.data.data.products):n.setError(s)});const r=l(""),u=l(""),c=l(""),d=l(""),o=l(""),v=async()=>{const a=await h.GET("api/v1/products",{params:{keyword:r.value,min:u.value,max:c.value,minQuantity:d.value,maxQuantity:o.value}}),{success:t,message:s}=a.data;return t?_.setProduct(a.data.data.products):n.setError(s)};return(a,t)=>(g(),f(b,null,[i(B),e("div",q,[i(F),e("div",z,[e("form",j,[e("div",J,[p(e("input",{class:"form-input",type:"text",maxlength:"50",id:"keyword",name:"keyword","onUpdate:modelValue":t[0]||(t[0]=s=>r.value=s),placeholder:"輸入關鍵字"},null,512),[[m,r.value]])]),e("div",K,[p(e("input",{class:"form-input",type:"number",maxlength:"50",id:"minQuantity",name:"minQuantity","onUpdate:modelValue":t[1]||(t[1]=s=>d.value=s),placeholder:"輸入最小存貨量"},null,512),[[m,d.value]])]),e("div",R,[p(e("input",{class:"form-input",type:"number",maxlength:"50",id:"maxQuantity",name:"maxQuantity","onUpdate:modelValue":t[2]||(t[2]=s=>o.value=s),placeholder:"輸入最大存貨量"},null,512),[[m,o.value]])]),e("div",W,[p(e("input",{class:"form-input",type:"number",maxlength:"50",id:"min",name:"min","onUpdate:modelValue":t[3]||(t[3]=s=>u.value=s),placeholder:"輸入最小金額"},null,512),[[m,u.value]])]),e("div",X,[p(e("input",{class:"form-input",type:"number",maxlength:"50",id:"max",name:"max","onUpdate:modelValue":t[4]||(t[4]=s=>c.value=s),placeholder:"輸入最大金額"},null,512),[[m,c.value]])]),i(P,{msg:"搜尋",backgroundColor:"background-color:#D0D0D0",type:"button",onClick:v})])]),e("div",Y,[i(O)])]),i(D)],64))}},ae=w(Z,[["__scopeId","data-v-7632eb4c"]]);export{ae as default};
