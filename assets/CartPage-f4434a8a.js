import{o as v,a as u,c as i,q as P,d as t,k as f,t as a,f as _,e as c,F as C,j as $,u as y,b as n}from"./index-7215024e.js";import{_ as h,u as b,b as w,B as p,H as F,A as x,F as B}from"./FooterComponent-cc28d71c.js";import{u as k}from"./cart-product-a80a4192.js";const D={class:"data-wrapper"},S=["onClick"],q={class:"product-data"},A={class:"product-price"},I={class:"product-num"},L={class:"userData-wrapper"},M={class:"product-name"},N={class:"product-name"},V={class:"shopcar-num"},z={class:"shopcar-price"},H={class:"use-wrapper"},Q={class:"control-button"},j=["onClick"],E=["onClick"],R={class:"delete-button"},T=["onClick"],G={__name:"CartProduct",setup(g){const e=k();v(async()=>{await e.getCart()});const d=r=>{$.push(`/product/${r}`)};return(r,l)=>(u(!0),i(C,null,P(c(e).products,s=>(u(),i("div",{class:"product-wrapper",key:s.id},[t("div",D,[t("div",{class:"product-pic",style:f(`background-image: url('${s.Product.avatar}')`),onClick:o=>d(s.Product.id)},null,12,S),t("div",q,[t("div",A,"售價: $ "+a(s.Product.price),1),t("div",I,"存貨量: "+a(s.Product.stock),1)])]),t("div",L,[t("div",M,"商品名稱: "+a(s.Product.name),1),t("div",N,"商品分類: "+a(s.Product.Category.name),1),t("div",V,[_("購買數量: "),t("span",null,a(s.quantity),1)]),t("div",z,[_("累加金額: "),t("span",null,"$ "+a(s.quantity*s.Product.price),1)])]),t("div",H,[t("div",Q,[t("i",{class:"fa-solid fa-circle-plus plus",onClick:o=>c(e).setProductQuantity("plus",s.Product.id)},null,8,j),t("i",{class:"fa-solid fa-circle-minus minus",onClick:o=>c(e).setProductQuantity("minus",s.Product.id)},null,8,E)]),t("div",R,[t("i",{class:"fa-solid fa-trash delete","product-id":"item.product_id",onClick:o=>c(e).deleteCart(s.Product.id)},null,8,T)])])]))),128))}},J=h(G,[["__scopeId","data-v-3c27d3e5"]]);const K={class:"shopcar-wrapper"},O={class:"checkout-wrapper"},U={class:"total-amount"},W={class:"checkout-button"},X={class:"updated-button"},Y={class:"products-wrapper"},Z={__name:"CartPage",setup(g){const e=y(),d=b(),r=k(),l=w();return d.messageInitialization(),v(()=>{if(l.user.role!=="buyer")return e.push("/")}),(s,o)=>(u(),i(C,null,[n(F),t("div",K,[n(x),t("div",O,[t("div",U,"總金額: "+a(c(r).totalAmount),1),t("div",W,[n(p,{msg:"結帳",backgroundColor:"background-color:#FFBD9D",onClick:o[0]||(o[0]=m=>c(r).checkoutCarts())})]),t("div",X,[n(p,{msg:"更新",backgroundColor:"background-color:#FFBD9D",onClick:o[1]||(o[1]=m=>c(r).updatedCarts())})])]),t("div",Y,[n(J)])]),n(B)],64))}},et=h(Z,[["__scopeId","data-v-6fecab18"]]);export{et as default};
