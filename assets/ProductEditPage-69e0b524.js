import{j as S,u as C,o as v,a as p,c,b as o,d as e,w as F,n as w,e as a,i as k,s as q,F as f,q as I,t as g,p as P,h as R}from"./index-4a7e1513.js";import{_ as B,u as D,a as M,b as E,B as V,H as L,A as z,F as A}from"./FooterComponent-0fde2f88.js";import{u as H}from"./store-product-5ca997ac.js";import{F as i}from"./FormComponent-d7d800b6.js";import"./product-4d1425c3.js";const l=u=>(P("data-v-320aa74d"),u=u(),R(),u),N={class:"wrapper"},j={class:"form-wrapper"},U={class:"form-title"},$=l(()=>e("h3",null,"編輯商品",-1)),G=["onSubmit"],J={class:"form-item"},K=l(()=>e("label",{for:"category",class:"form-label"},"商品分類",-1)),O=l(()=>e("span",{class:"form-text"},"※注意商品分類為必填",-1)),Q=["value"],T=l(()=>e("div",{class:"invalid-text"},"此項目為必選，請選擇商品分類",-1)),W=l(()=>e("div",{class:"valid-text"},g("✓"),-1)),X={__name:"ProductEditPage",setup(u){const m=S(),_=C(),h=D(),t=M(),x=E(),d=H();h.messageInitialization(),v(()=>{if(x.user.role!=="seller")return _.push("/");t.formClass=""}),v(async()=>{const n=m.params.product_id;await d.getCategoriesProduct(n)});const b=async n=>{const s=n.target,r=m.params.product_id;if(!s.checkValidity())return n.preventDefault();await d.putStore(r)||_.push("/stores")},y=n=>{const s=n.target.files[0];t.avatar=s};return(n,s)=>(p(),c(f,null,[o(L),e("div",N,[e("div",j,[e("div",U,[$,o(z)]),e("form",{onSubmit:F(b,["prevent"]),class:w(a(t).formClass),novalidate:""},[o(i,{"label-for":"name","label-text":"商品名稱","span-text":"※填寫1-100字商品名稱","input-placeholder":"請輸入商品名稱","input-type":"text","min-length":"1","max-length":"100",inputRequired:"true","invalid-text":"此項目為必填，字數限制1-100",value:a(t).name},null,8,["value"]),o(i,{"label-for":"price","label-text":"售價","span-text":"※注意售價為必填","input-placeholder":"請輸入售價","input-type":"number",inputRequired:"true","invalid-text":"此項目為必填",value:a(t).price},null,8,["value"]),e("div",J,[K,O,k(e("select",{class:"form-input","onUpdate:modelValue":s[0]||(s[0]=r=>a(t).category=r),name:"category",id:"category",required:""},[(p(!0),c(f,null,I(a(d).categories,r=>(p(),c("option",{class:"form-input",value:r.id,key:r.id},g(r.name),9,Q))),128))],512),[[q,a(t).category]]),T,W]),o(i,{"label-for":"inventory","label-text":"存貨量","span-text":"※注意存貨量為必填","input-placeholder":"請輸入存貨量","input-type":"number",inputRequired:"true","invalid-text":"此項目為必填",value:a(t).inventory},null,8,["value"]),o(i,{"label-for":"avatar","label-text":"商品圖片","span-text":"※注意商品圖片為必填","input-placeholder":"",onChange:y,"input-type":"file",inputRequired:"true","invalid-text":"此項目為必填"}),o(i,{"label-for":"description","label-text":"商品描述","span-text":"※注意商品描述為必填","input-placeholder":"請輸入商品描述","input-type":"textarea","min-length":"1","max-length":"400",inputRequired:"true","invalid-text":"此項目為必填",value:a(t).description},null,8,["value"]),e("div",null,[o(V,{msg:"更新",backgroundColor:"background-color:#FFBD9D",type:"submit",onClick:s[1]||(s[1]=r=>a(t).addFormClass())})])],42,G)])]),o(A)],64))}},se=B(X,[["__scopeId","data-v-320aa74d"]]);export{se as default};
