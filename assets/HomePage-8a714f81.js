import{_ as k,a as I,u as $,B as y,t as w,b as S,H as F,A as H,F as B}from"./FooterComponent-d275ade7.js";import{u as b}from"./PaginationComponent.vue_vue_type_style_index_0_scoped_744cdb97_lang-5bd9c7c9.js";import{p as D}from"./product-b3165e1e.js";import{b as p,c as m,x,e as t,l as Q,t as g,j as e,y as K,m as L,F as f,k as N,r as P,a as T,d as u,g as M,n as h,p as A,h as E}from"./index-d726125b.js";import"./FormComponent.vue_vue_type_style_index_0_scoped_336c89d5_lang-7a4e564c.js";const V=["onClick"],z={class:"product-text"},O={class:"product-name"},j={class:"product-text"},q={class:"product-price"},G={class:"price"},J={__name:"ProductComponent",setup(_){const a=I(),o=D(),r=$(),d=async n=>{window.scrollTo({top:0,behavior:"smooth"});const c=w.putTokenToHeader(),i=await S.POST(`/api/v1/shopcars/${n}`,void 0,c),{success:l,message:v}=i.data;return l?r.setSuccess(v):r.setError(v)},s=n=>{N.push(`/product/${n}`)};return(n,c)=>(p(!0),m(f,null,x(e(o).products,i=>(p(),m("div",{class:"product-wrapper",key:i.id},[t("div",{class:"product-img",style:Q(`background-image: url('${i.avatar}')`),onClick:l=>s(i.id)},null,12,V),t("div",z,[t("div",O,g(i.name),1),t("div",j,g(i.description),1)]),t("div",q,[t("div",G," $ "+g(i.price),1),e(a).buttonOn?(p(),K(y,{key:0,msg:"加入購物車",backgroundColor:"background-color:#FF9797",onClick:l=>d(i.id)},null,8,["onClick"])):L("",!0)])]))),128))}},R=k(J,[["__scopeId","data-v-9740356c"]]),C=_=>(A("data-v-744cdb97"),_=_(),E(),_),U={"aria-label":"Page navigation example"},W={class:"pagination"},X=C(()=>t("a",{class:"page-link",href:"","aria-label":"Previous"},[t("span",{"aria-hidden":"true"},"«")],-1)),Y=[X],Z=["onClick"],ee={class:"page-link",href:""},te=C(()=>t("a",{class:"page-link",href:"","aria-label":"Next"},[t("span",{"aria-hidden":"true"},"»")],-1)),oe=[te],se={__name:"PaginationComponent",setup(_){const a=b(),o=P(null),r=P(null),d=(n,c)=>{o.value.classList.contains("disabled")||a.getProducts(n,c)},s=(n,c)=>{r.value.classList.contains("disabled")||a.getProducts(n,c)};return(n,c)=>{const i=T("router-link");return p(),m("div",null,[u(i,{class:"paginaton",to:"/home"},{default:M(()=>[t("nav",U,[t("ul",W,[t("li",{class:h(["page-item",{disabled:e(a).currentPage===1}]),ref_key:"prev",ref:o,onClick:c[0]||(c[0]=l=>d(e(a).currentPage-1,e(a).categoryId))},Y,2),(p(!0),m(f,null,x(e(a).pages,l=>(p(),m("li",{class:h(["page-item",{active:e(a).currentPage===l}]),onClick:v=>e(a).getProducts(l,e(a).categoryId),key:l},[t("a",ee,g(l),1)],10,Z))),128)),t("li",{class:h(["page-item",{disabled:e(a).currentPage===e(a).totalPage}]),ref_key:"next",ref:r,onClick:c[1]||(c[1]=l=>s(e(a).currentPage+1,e(a).categoryId))},oe,2)])])]),_:1})])}}},ne=k(se,[["__scopeId","data-v-744cdb97"]]);const ae={class:"home-wrapper"},re={class:"search-wrapper"},ce={action:"",class:"form-wrapper"},ie={class:"form-item"},le=["value"],ue={class:"form-item"},de=["value"],pe={class:"form-item"},_e=["value"],me={class:"form-item"},ge=["value"],ve={class:"form-item"},he=["value"],ye={class:"button-wrapper"},ke={class:"products-wrapper"},fe={__name:"HomePage",setup(_){const a=$(),o=b();a.clearErrorMessages(),o.getProducts(1,o.categoryId);const r=d=>{const s=d.target.value,n=d.target.id;o.setChangeInput(n,s)};return(d,s)=>(p(),m(f,null,[u(F),t("div",ae,[u(H),t("div",re,[t("form",ce,[t("div",ie,[t("input",{class:"form-input",type:"text",maxlength:"50",id:"keyword",name:"keyword",value:e(o).keyword,onInput:r,onKeyup:s[0]||(s[0]=n=>e(o).getProducts(1,e(o).categoryId)),placeholder:"輸入關鍵字"},null,40,le)]),t("div",ue,[t("input",{class:"form-input",type:"number",maxlength:"50",id:"minQuantity",name:"minQuantity",value:e(o).minQuantity,onInput:r,onKeyup:s[1]||(s[1]=n=>e(o).getProducts(1,e(o).categoryId)),placeholder:"輸入最小存貨量"},null,40,de)]),t("div",pe,[t("input",{class:"form-input",type:"number",maxlength:"50",id:"maxQuantity",name:"maxQuantity",value:e(o).maxQuantity,onInput:r,onKeyup:s[2]||(s[2]=n=>e(o).getProducts(1,e(o).categoryId)),placeholder:"輸入最大存貨量"},null,40,_e)]),t("div",me,[t("input",{class:"form-input",type:"number",maxlength:"50",id:"min",name:"min",value:e(o).min,onInput:r,onKeyup:s[3]||(s[3]=n=>e(o).getProducts(1,e(o).categoryId)),placeholder:"輸入最小金額"},null,40,ge)]),t("div",ve,[t("input",{class:"form-input",type:"number",maxlength:"50",id:"max",name:"max",value:e(o).max,onInput:r,onKeyup:s[4]||(s[4]=n=>e(o).getProducts(1,e(o).categoryId)),placeholder:"輸入最大金額"},null,40,he)]),t("div",ye,[u(y,{class:"search-button",msg:"搜尋",backgroundColor:"background-color:#D0D0D0",type:"button",onClick:s[5]||(s[5]=n=>e(o).getProducts(1,e(o).categoryId))}),u(y,{class:"clear-button",msg:"清除",backgroundColor:"background-color:	#FFAD86",type:"button",onClick:s[6]||(s[6]=n=>e(o).clearSearch())})])])]),t("div",ke,[u(R)]),u(ne,{currentPage:e(o).currentPage},null,8,["currentPage"])]),u(B)],64))}},Ie=k(fe,[["__scopeId","data-v-ccc45024"]]);export{Ie as default};
