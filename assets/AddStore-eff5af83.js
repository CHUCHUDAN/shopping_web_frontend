import{u as y,o as _,a as c,c as u,b as t,d as e,w as S,n as C,e as i,i as F,s as w,F as f,q as R,t as v,p as k,h as q}from"./index-4a7e1513.js";import{_ as B,u as A,a as D,b as I,B as M,H as V,A as L,F as z}from"./FooterComponent-0fde2f88.js";import{u as H}from"./store-product-5ca997ac.js";import{F as l}from"./FormComponent-d7d800b6.js";import"./product-4d1425c3.js";const r=p=>(k("data-v-49c9293a"),p=p(),q(),p),N={class:"wrapper"},E={class:"form-wrapper"},U={class:"form-title"},$=r(()=>e("h3",null,"上架商品",-1)),j=["onSubmit"],G={class:"form-item"},J=r(()=>e("label",{for:"category",class:"form-label"},"商品分類",-1)),K=r(()=>e("span",{class:"form-text"},"※注意商品分類為必填",-1)),O=r(()=>e("option",{class:"form-input",value:"",disabled:"",selected:""},"商品分類",-1)),P=["value"],Q=r(()=>e("div",{class:"invalid-text"},"此項目為必選，請選擇商品分類",-1)),T=r(()=>e("div",{class:"valid-text"},v("✓"),-1)),W={__name:"AddStore",setup(p){const m=y(),h=A(),a=D(),g=I(),d=H();h.messageInitialization(),_(()=>{if(g.user.role!=="seller")return m.push("/");a.formClass=""}),_(async()=>{await d.getCategories()});const x=n=>{const o=n.target.files[0];a.avatar=o},b=async n=>{if(!n.target.checkValidity())return n.preventDefault();await d.postStore()||m.push("/stores")};return(n,o)=>(c(),u(f,null,[t(V),e("div",N,[e("div",E,[e("div",U,[$,t(L)]),e("form",{onSubmit:S(b,["prevent"]),class:C(i(a).formClass),novalidate:""},[t(l,{"label-for":"name","label-text":"商品名稱","span-text":"※填寫1-100字商品名稱","input-placeholder":"請輸入商品名稱","input-type":"text","min-length":"1","max-length":"100",inputRequired:"true","invalid-text":"此項目為必填，字數限制1-100"}),t(l,{"label-for":"price","label-text":"售價","span-text":"※注意售價為必填","input-placeholder":"請輸入售價","input-type":"number",inputRequired:"true","invalid-text":"此項目為必填"}),e("div",G,[J,K,F(e("select",{class:"form-input","onUpdate:modelValue":o[0]||(o[0]=s=>i(a).category=s),name:"category",id:"category",required:""},[O,(c(!0),u(f,null,R(i(d).categories,s=>(c(),u("option",{class:"form-input",value:s.id,key:s.id},v(s.name),9,P))),128))],512),[[w,i(a).category]]),Q,T]),t(l,{"label-for":"inventory","label-text":"存貨量","span-text":"※注意存貨量為必填","input-placeholder":"請輸入存貨量","input-type":"number",inputRequired:"true","invalid-text":"此項目為必填"}),t(l,{"label-for":"avatar","label-text":"商品圖片","span-text":"※注意商品圖片為必填","input-placeholder":"",onChange:x,"input-type":"file",inputRequired:"true","invalid-text":"此項目為必填"}),t(l,{"label-for":"description","label-text":"商品描述","span-text":"※注意商品描述為必填","input-placeholder":"請輸入商品描述","input-type":"textarea","min-length":"1","max-length":"400",inputRequired:"true","invalid-text":"此項目為必填"}),e("div",null,[t(M,{msg:"上架",backgroundColor:"background-color:#FFBD9D",type:"submit",onClick:o[1]||(o[1]=s=>i(a).addFormClass())})])],42,j)])]),t(z)],64))}},oe=B(W,[["__scopeId","data-v-49c9293a"]]);export{oe as default};
