import{a as i,c as p,f as y,g as w,F as m,d as s,h as T,t as n,u as C,o as h,j as E,b as a,k as P}from"./index-55c79f46.js";import{_ as f,u as g,t as l,a as v,H as $,A as x,B as H,F as b}from"./FooterComponent-a990d818.js";import{p as k}from"./product-baf1e9ba.js";const B={class:"data-wrapper"},F={class:"product-data"},D={class:"product-price"},M={class:"product-num"},A={class:"userData-wrapper"},G={class:"product-name"},L={class:"product-description"},N={class:"delete-button"},V=["onClick"],j={class:"add-time"},q={__name:"StoreProduct",setup(S){const d=k(),c=g(),u=async t=>{const o=l.putTokenToHeader(),e=await v.DELETE(`/api/v1/stores/${t}`,void 0,o),{success:r,message:_}=e.data;return r?(d.deleteStoreShop(t),c.setSuccess(_)):c.setError(_)};return(t,o)=>(i(!0),p(m,null,y(w(d).products,e=>(i(),p("div",{class:"product-wrapper",key:e.id},[s("div",B,[s("div",{class:"product-pic",style:T(`background-image: url('${e.avatar}')`)},null,4),s("div",F,[s("div",D,"售價: $ "+n(e.price),1),s("div",M,"存貨量: "+n(e.inventory_quantity),1)])]),s("div",A,[s("div",G,"商品名稱: "+n(e.name),1),s("div",L,"商品描述: "+n(e.description),1),s("div",N,[s("i",{class:"fa-solid fa-trash delete","product-id":"item.product_id",onClick:r=>u(e.id)},null,8,V),s("span",j,"上架時間: "+n(e.addShopTime),1)])])]))),128))}},z=f(q,[["__scopeId","data-v-2a2f8ce2"]]);const I={class:"store-wrapper"},R={class:"add-wrapper"},J={class:"add-button"},K={class:"products-wrapper"},O={__name:"StorePage",setup(S){const d=C(),c=g(),u=k();return c.clearErrorMessages(),h(async()=>{const t=l.putTokenToHeader(),o=await v.GET("/api/v1/users",void 0,t),{success:e,user:r}=o.data;if(!e||r.role!=="seller")return d.push("/")}),h(async()=>{const t=l.putTokenToHeader(),o=await v.GET("/api/v1/stores",void 0,t),{success:e,message:r,data:_}=o.data;return e?u.setProduct(_.products):c.setError(r)}),(t,o)=>{const e=E("router-link");return i(),p(m,null,[a($),s("div",I,[a(x),s("div",R,[s("div",J,[a(e,{to:"/addStore"},{default:P(()=>[a(H,{msg:"上架商品",backgroundColor:"background-color:#FFBD9D"})]),_:1})])]),s("div",K,[a(z)])]),a(b)],64)}}},X=f(O,[["__scopeId","data-v-13782889"]]);export{X as default};
