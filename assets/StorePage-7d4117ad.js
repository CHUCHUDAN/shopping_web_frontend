import{b as p,c as l,k as P,j as w,F as g,e,l as E,t as d,m,u as T,o as f,a as x,d as n,g as H}from"./index-876dbdf5.js";import{_ as S,u as y,t as v,a as h,H as b,A as B,B as D,F}from"./FooterComponent-97f0eb0b.js";import{p as C}from"./product-766647d2.js";const M={class:"data-wrapper"},A=["onClick"],G={class:"product-data"},L={class:"product-price"},N={class:"product-num"},V={class:"userData-wrapper"},j={class:"product-name"},q={class:"product-description"},z={class:"delete-button"},I=["onClick"],R=["onClick"],J={class:"add-time"},K={__name:"StoreProduct",setup($){const u=C(),c=y(),_=async t=>{const a=v.putTokenToHeader(),s=await h.DELETE(`/api/v1/stores/${t}`,void 0,a),{success:i,message:k}=s.data;return i?(u.deleteStoreShop(t),c.setSuccess(k)):c.setError(k)},o=t=>{m.push(`/product/${t}`)},r=t=>{m.push(`/product/edit/${t}`)};return(t,a)=>(p(!0),l(g,null,P(w(u).products,s=>(p(),l("div",{class:"product-wrapper",key:s.id},[e("div",M,[e("div",{class:"product-pic",style:E(`background-image: url('${s.avatar}')`),onClick:i=>o(s.id)},null,12,A),e("div",G,[e("div",L,"售價: $ "+d(s.price),1),e("div",N,"存貨量: "+d(s.inventory_quantity),1)])]),e("div",V,[e("div",j,"商品名稱: "+d(s.name),1),e("div",q,"商品描述: "+d(s.description),1),e("div",z,[e("i",{class:"fa-solid fa-trash delete","product-id":"item.product_id",onClick:i=>_(s.id)},null,8,I),e("i",{class:"fa-solid fa-pen edit",onClick:i=>r(s.id)},null,8,R),e("span",J,"上架時間: "+d(s.addShopTime),1)])])]))),128))}},O=S(K,[["__scopeId","data-v-3e9e38e8"]]);const Q={class:"store-wrapper"},U={class:"add-wrapper"},W={class:"add-button"},X={class:"products-wrapper"},Y={__name:"StorePage",setup($){const u=T(),c=y(),_=C();return c.clearErrorMessages(),f(async()=>{const o=v.putTokenToHeader(),r=await h.GET("/api/v1/users",void 0,o),{success:t,user:a}=r.data;if(!t||a.role!=="seller")return u.push("/")}),f(async()=>{const o=v.putTokenToHeader(),r=await h.GET("/api/v1/stores",void 0,o),{success:t,message:a,data:s}=r.data;return t?_.setProduct(s.products):c.setError(a)}),(o,r)=>{const t=x("router-link");return p(),l(g,null,[n(b),e("div",Q,[n(B),e("div",U,[e("div",W,[n(t,{to:"/addStore"},{default:H(()=>[n(D,{msg:"上架商品",backgroundColor:"background-color:#FFBD9D"})]),_:1})])]),e("div",X,[n(O)])]),n(F)],64)}}},te=S(Y,[["__scopeId","data-v-13782889"]]);export{te as default};
