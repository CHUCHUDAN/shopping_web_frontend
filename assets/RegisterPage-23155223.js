import{u as b,r as w,o as k,a as C,b as y,c as F,d as s,e,w as R,n as S,i as _,v as f,j as i,f as h,g as B,F as M,p as V,h as q}from"./index-23686ead.js";import{_ as D,u as H,t as I,H as P,A as E,B as N,F as A,a as T}from"./FooterComponent-0b396630.js";import{u as U}from"./FormComponent.vue_vue_type_style_index_0_scoped_e1c64aa3_lang-457f4fb9.js";import{F as c}from"./FormComponent-1c539209.js";const n=l=>(V("data-v-a36cfce7"),l=l(),q(),l),j={class:"wrapper"},z={class:"form-wrapper"},O={class:"form-title"},G=n(()=>e("h3",null,"Register",-1)),J=["onSubmit"],K={class:"form-radio-item"},L=n(()=>e("label",{class:"form-item-label",for:"role"},"帳號類型:",-1)),Q=n(()=>e("span",{class:"form-text"},"※請選擇帳號類型",-1)),W={class:"form-radio-wrapper"},X={class:"form-radio"},Y=n(()=>e("label",{class:"form-radio-label",for:"buyer"},"買家",-1)),Z={class:"form-radio"},$=n(()=>e("label",{class:"form-radio-label",for:"seller"},"賣家",-1)),ee={class:"register-text"},te={__name:"RegisterPage",setup(l){const u=b(),d=H(),t=U();d.clearErrorMessages();const m=w(""),g=()=>{m.value="was-validated"},v=async a=>{if(!a.target.checkValidity())return a.preventDefault();const p=await T.POST("/api/v1/user",{name:t.name,account:t.account,role:t.role,password:t.password,passwordCheck:t.passwordCheck}),{success:r,message:x}=p.data;if(!r)return d.setError(x);d.setSuccess("註冊成功"),u.push("/user/login")};return k(async()=>{const a=await I.tokenCheck(),{success:o}=a.data;if(o)return u.push("/")}),(a,o)=>{const p=C("router-link");return y(),F(M,null,[s(P),e("div",j,[e("div",z,[e("div",O,[G,s(E)]),e("form",{onSubmit:R(v,["prevent"]),class:S(m.value),novalidate:""},[s(c,{"label-for":"name","label-text":"使用者名稱","span-text":"※填寫20內使用者名稱","input-placeholder":"請輸入名稱","input-type":"text","min-length":"1","max-length":"20",inputRequired:"true","invalid-text":"此項目為必填，字數限制1-20"}),s(c,{"label-for":"account","label-text":"帳號","span-text":"※注意請填寫50字內的帳號","input-placeholder":"請輸入帳號","input-type":"text","min-length":"1","max-length":"50",inputRequired:"true","invalid-text":"此項目為必填，字數限制1-50"}),e("div",K,[L,Q,e("div",W,[e("div",X,[Y,_(e("input",{class:"form-radio-input",type:"radio",id:"buyer",name:"role",value:"buyer","onUpdate:modelValue":o[0]||(o[0]=r=>i(t).role=r),checked:""},null,512),[[f,i(t).role]])]),e("div",Z,[$,_(e("input",{class:"form-radio-input",type:"radio",id:"seller",name:"role",value:"seller","onUpdate:modelValue":o[1]||(o[1]=r=>i(t).role=r)},null,512),[[f,i(t).role]])])])]),s(c,{"label-for":"password","label-text":"密碼","span-text":"※注意請填寫4-50字密碼","input-placeholder":"請輸入有效密碼","input-type":"password","min-length":"4","max-length":"50",inputRequired:"true","invalid-text":"此項目為必填，字數限制4-50"}),s(c,{"label-for":"passwordCheck","label-text":"確認密碼","span-text":"※注意請填寫與密碼相符之確認密碼","input-placeholder":"請輸入確認密碼","input-type":"password","min-length":"4","max-length":"50",inputRequired:"true","invalid-text":"此項目為必填，字數限制4-50"}),e("div",null,[s(N,{msg:"register",backgroundColor:"background-color:#FFBD9D",type:"submit",onClick:g})]),e("div",ee,[h(" 已經有帳號 ? "),s(p,{to:"/user/login",class:"register-text-link"},{default:B(()=>[h("登入")]),_:1})])],42,J)])]),s(A)],64)}}},ne=D(te,[["__scopeId","data-v-a36cfce7"]]);export{ne as default};
