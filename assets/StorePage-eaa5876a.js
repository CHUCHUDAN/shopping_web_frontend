import{_ as l,u as m,b as f,t as c,a as d,H as g,A as k,B as v,F as S}from"./FooterComponent-0b396630.js";import{p as h}from"./product-85f90331.js";import{S as C}from"./StoreProduct-b5745c14.js";import{o as u,s as w,a as x,b as B,c as F,d as e,e as r,g as H,F as P}from"./index-23686ead.js";const T={class:"store-wrapper"},b={class:"add-wrapper"},E={class:"add-button"},y={class:"products-wrapper"},M={__name:"StorePage",setup(A){const n=m(),p=h(),_=f();return n.clearErrorMessages(),u(async()=>{const s=c.putTokenToHeader(),t=await d.GET("/api/v1/users",void 0,s),{success:o,data:a}=t.data;if(!o||a.user.role!=="seller")return w.push("/")}),u(async()=>{const s=c.putTokenToHeader(),t=await d.GET("/api/v1/stores",void 0,s),{success:o,message:a,data:i}=t.data;return o?(_.isSelfUser=!0,p.setProduct(i.products)):n.setError(a)}),(s,t)=>{const o=x("router-link");return B(),F(P,null,[e(g),r("div",T,[e(k),r("div",b,[r("div",E,[e(o,{to:"/addStore"},{default:H(()=>[e(v,{msg:"上架商品",backgroundColor:"background-color:#FFBD9D"})]),_:1})])]),r("div",y,[e(C)])]),e(S)],64)}}},V=l(M,[["__scopeId","data-v-8c81f377"]]);export{V as default};
