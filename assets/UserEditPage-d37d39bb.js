import{u as h,o as p,a as _,c as v,b as t,d as s,w as x,n as g,e as n,F as b,p as C,h as F}from"./index-7215024e.js";import{_ as y,u as S,a as U,b as k,B as w,H as B,A as R,F as q}from"./FooterComponent-cc28d71c.js";import{F as r}from"./FormComponent-323e5de0.js";const I=i=>(C("data-v-1d7f93d3"),i=i(),F(),i),E={class:"wrapper"},M={class:"form-wrapper"},D={class:"form-title"},P=I(()=>s("h3",null,"編輯使用者資料",-1)),V=["onSubmit"],z={__name:"UserEditPage",setup(i){const u=h(),c=S(),e=U(),a=k();c.messageInitialization(),p(()=>{if(!a.isUser)return u.push("/");e.formClass=""}),p(async()=>{e.name=a.user.name,e.account=a.user.account,e.email=a.user.email,e.phone=a.user.phone,e.avatar=a.user.avatar});const d=async o=>{if(!o.target.checkValidity())return o.preventDefault();await a.putUser()||u.push("/user/profile")},m=o=>{const l=o.target.files[0];e.avatar=l};return(o,l)=>(_(),v(b,null,[t(B),s("div",E,[s("div",M,[s("div",D,[P,t(R)]),s("form",{onSubmit:x(d,["prevent"]),class:g(n(e).formClass),novalidate:""},[t(r,{"label-for":"name","label-text":"名稱","span-text":"※注意請填寫1-20字名稱","input-placeholder":"請輸入使用者名稱","input-type":"text","min-length":"1","max-length":"20",inputRequired:"true","invalid-text":"此項目為必填，字數限制1-20字",value:n(e).name},null,8,["value"]),t(r,{"label-for":"account","label-text":"帳號","span-text":"※注意請填寫1-50字帳號","input-placeholder":"請輸入使用者帳號","input-type":"text","min-length":"1","max-length":"50",inputRequired:"true","invalid-text":"此項目為必填，字數限制1-50字",value:n(e).account},null,8,["value"]),t(r,{"label-for":"email","label-text":"信箱","span-text":"※注意信箱非必填，請輸入3-50字信箱","input-placeholder":"請輸入有效信箱","input-type":"email","min-length":"3","max-length":"50",inputRequired:"false","invalid-text":"此項目非必填，請輸入正確信箱格式",value:n(e).email},null,8,["value"]),t(r,{"label-for":"phone","label-text":"手機","span-text":"※注意手機為非必填，請輸入10碼手機號碼","input-placeholder":"請輸入手機號碼","input-type":"text","min-length":"10","max-length":"10",inputRequired:"false","invalid-text":"此項目非必填，請輸入正確手機格式",value:n(e).phone},null,8,["value"]),t(r,{"label-for":"avatar","label-text":"使用者大頭貼","span-text":"※注意使用者大頭貼非必填","input-placeholder":"",onChange:m,"input-type":"file",inputRequired:"false","invalid-text":"此項目非必填"}),s("div",null,[t(w,{msg:"更新",backgroundColor:"background-color:#FFBD9D",type:"submit",onClick:l[0]||(l[0]=f=>n(e).addFormClass())})])],42,V)])]),t(q)],64))}},N=y(z,[["__scopeId","data-v-1d7f93d3"]]);export{N as default};
